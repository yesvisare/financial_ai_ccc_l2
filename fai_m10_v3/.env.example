# L3_M10.3: Managing Financial Knowledge Base Drift
# Copy to .env and fill in your credentials

# ============================================================================
# Service Configuration (auto-detected from script Section 4)
# ============================================================================

# OpenAI (Primary Service) - Embeddings API for drift detection
OPENAI_ENABLED=false
OPENAI_API_KEY=your_openai_api_key_here

# Pinecone (Secondary Service) - Vector database for knowledge storage
PINECONE_ENABLED=false
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment_here
PINECONE_INDEX_NAME=financial-kb-drift

# ============================================================================
# PostgreSQL Configuration - Audit trails (SOX compliance)
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=financial_kb_drift
POSTGRES_USER=your_postgres_user_here
POSTGRES_PASSWORD=your_postgres_password_here

# ============================================================================
# Application Settings
# ============================================================================

# Drift detection threshold (cosine similarity)
# < 0.70: HIGH severity
# 0.70-0.80: MEDIUM severity
# 0.80-0.85: LOW severity
# >= 0.85: No drift
DRIFT_THRESHOLD=0.85

# Retraining batch size for selective re-embedding
RETRAINING_BATCH_SIZE=50

# Logging configuration
LOG_LEVEL=INFO

# ============================================================================
# Regulatory Monitoring
# ============================================================================

# Enable automated regulatory source monitoring
REGULATORY_MONITORING_ENABLED=true

# Monitoring frequency (hours)
REGULATORY_CHECK_INTERVAL=24

# ============================================================================
# SOX Compliance Settings
# ============================================================================

# Audit trail retention (days) - minimum 2555 days (7 years) for SOX 404
AUDIT_RETENTION_DAYS=2555

# Require human approval for version changes
REQUIRE_HUMAN_APPROVAL=true

# Citation accuracy threshold (%)
CITATION_ACCURACY_THRESHOLD=95
